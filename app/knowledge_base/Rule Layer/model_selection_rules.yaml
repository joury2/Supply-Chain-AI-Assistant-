# rules/model_selection_rules.yaml
version: "1.0"
rules:
  data_size_rules:
    - name: "insufficient_data"
      condition: "dataset.rows < 30"
      action: "reject"
      message: "Insufficient data points for reliable forecasting"
      severity: "error"
    
    - name: "large_dataset_ensemble"
      condition: "dataset.rows > 10000 and dataset.has_seasonality"
      action: "prefer_model"
      model_types: ["prophet", "lstm"]
      priority: 1

  feature_based_rules:
    - name: "time_series_required"
      condition: "'date' in dataset.columns and 'quantity' in dataset.columns"
      action: "require_model_type"
      model_types: ["arima", "prophet", "exponential_smoothing"]
    
    - name: "multiple_regressors"
      condition: "len(dataset.numeric_columns) > 5"
      action: "prefer_model"
      model_types: ["random_forest", "xgboost", "lightgbm"]
      priority: 2

  business_rules:
    - name: "high_accuracy_required"
      condition: "business_context.accuracy_requirement > 0.95"
      action: "prefer_model"
      model_types: ["xgboost", "ensemble"]
      priority: 1
    
    - name: "interpretability_required"
      condition: "business_context.interpretability_required == true"
      action: "prefer_model"
      model_types: ["linear_regression", "decision_tree"]
      priority: 1

# rules/data_validation_rules.yaml
version: "1.0"
rules:
  data_quality:
    - name: "missing_values_threshold"
      condition: "dataset.missing_percentage > 0.2"
      action: "reject"
      message: "Too many missing values"
    
    - name: "outlier_detection"
      condition: "dataset.outlier_percentage > 0.1"
      action: "warn"
      message: "High percentage of outliers detected"

  temporal_rules:
    - name: "future_dates_check"
      condition: "dataset.has_future_dates"
      action: "reject"
      message: "Dataset contains future dates"